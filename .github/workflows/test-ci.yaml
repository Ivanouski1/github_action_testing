name: test

on:
  pull_request:
    branches: [ main ] 

env:
  BUILD_NUMBER: ${{ github.run_number }} # default variable GITHUB_RUN_NUMBER

jobs:
  build:
    name: Test Build Number
    runs-on: ubuntu-latest

    steps:
      - name: Print BUILD_NUMBER-${{ env.BUILD_NUMBER }}
        run: echo "test-${{ env.BUILD_NUMBER }}.apk"


      - name: Create Tag
        id: create_tag
        uses: jaywcjlove/create-tag-action@main
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          package-path: ./package.json

      - name: Print version  
        run: |
          echo "version - ${{ steps.create_tag.outputs.version }}"
          echo "version || preversion - ${{ steps.create_tag.outputs.version || steps.create_tag.outputs.preversion }}"
          echo "versionNumber - ${{ steps.create_tag.outputs.versionNumber }}"
          echo "versionNumber || preversionNumber - ${{ steps.create_tag.outputs.versionNumber || steps.create_tag.outputs.preversionNumber }}"
          echo "majorVersion - ${{ steps.create_tag.outputs.majorVersion }}"
          echo "minorVersion - ${{ steps.create_tag.outputs.minorVersion }}"
          echo "patchVersion - ${{ steps.create_tag.outputs.patchVersion }}"
          echo "preversion - ${{ steps.create_tag.outputs.preversion }}"
          echo "successful - ${{ steps.create_tag.outputs.successful }}"